Bridge.assembly("BabylonJsDemo",function(){"use strict";Bridge.define("BabylonJsDemo.App",{main:function(){BabylonJsDemo.App._canvas=Bridge.cast(document.getElementById("renderCanvas"),HTMLCanvasElement);BabylonJsDemo.App._engine=new BABYLON.Engine(BabylonJsDemo.App._canvas,!0);BabylonJsDemo.App.InitEventHandlers();BabylonJsDemo.App.SwitchSceneTo(1)},statics:{fields:{_canvas:null,_engine:null,_scene:null,_isRun:!1},methods:{InitEventHandlers:function(){var btns,i,index;for(window.addEventListener("resize",function(){BabylonJsDemo.App._engine.resize()}),btns=System.Array.init([document.getElementById("sample1Btn"),document.getElementById("sample2Btn"),document.getElementById("sample3Btn")],HTMLElement),i=0;i<btns.length;i=i+1|0)index={v:i},btns[System.Array.index(i,btns)].onclick=function($me,index){return function(){return BabylonJsDemo.App.SwitchSceneTo(index.v+1|0),null}}(this,index)},SwitchSceneTo:function(number){BabylonJsDemo.App._isRun&&(BabylonJsDemo.App._engine.stopRenderLoop(),BabylonJsDemo.App._engine.clear(BABYLON.Color4.FromInts(255,255,255,255),!0,!0),BabylonJsDemo.App._scene.dispose(),BabylonJsDemo.App._scene=null,BabylonJsDemo.App._isRun=!1);var sceneProvider=BabylonJsDemo.App.GetSceneProvider(number);BabylonJsDemo.App._scene=sceneProvider.CreateScene(BabylonJsDemo.App._canvas,BabylonJsDemo.App._engine);BabylonJsDemo.App._engine.runRenderLoop(function(){BabylonJsDemo.App._scene.render()});BabylonJsDemo.App._isRun=!0},GetSceneProvider:function(number){switch(number){case 1:return new BabylonJsDemo.SceneProviders.Scene1Provider;case 2:return new BabylonJsDemo.SceneProviders.Scene2Provider;case 3:return new BabylonJsDemo.SceneProviders.Scene3Provider;default:throw new System.ArgumentOutOfRangeException("number");}}}}});Bridge.define("BabylonJsDemo.SceneProviders.AbstractSceneProvider");Bridge.define("BabylonJsDemo.SceneProviders.Scene1Provider",{inherits:[BabylonJsDemo.SceneProviders.AbstractSceneProvider],methods:{CreateScene:function(canvas,engine){var scene=new BABYLON.Scene(engine),camera=new BABYLON.FreeCamera("camera1",new BABYLON.Vector3(0,5,-10),scene),light,sphere,ground;return camera.setTarget(BABYLON.Vector3.Zero()),camera.attachControl(canvas,!0),light=new BABYLON.HemisphericLight("light1",new BABYLON.Vector3(0,1,0),scene),light.intensity=.7,sphere=BABYLON.Mesh.CreateSphere("sphere1",16,2,scene),sphere.position.y=1,ground=BABYLON.Mesh.CreateGround("ground1",6,6,2,scene),scene}}});Bridge.define("BabylonJsDemo.SceneProviders.Scene2Provider",{inherits:[BabylonJsDemo.SceneProviders.AbstractSceneProvider],methods:{CreateScene:function(canvas,engine){var $t,scene=new BABYLON.Scene(engine),camera=new BABYLON.ArcRotateCamera("Camera",0,0,10,BABYLON.Vector3.Zero(),scene),alpha;camera.setPosition(new BABYLON.Vector3(-10,10,0));camera.attachControl(canvas,!0);var light0=new BABYLON.PointLight("Omni0",new BABYLON.Vector3(0,10,0),scene),light1=new BABYLON.PointLight("Omni1",new BABYLON.Vector3(0,-10,0),scene),light2=new BABYLON.PointLight("Omni2",new BABYLON.Vector3(10,0,0),scene),light3=new BABYLON.DirectionalLight("Dir0",new BABYLON.Vector3(1,-1,0),scene),material=new BABYLON.StandardMaterial("kosh",scene),sphere=BABYLON.Mesh.CreateSphere("Sphere",16,3,scene),lightSphere0=BABYLON.Mesh.CreateSphere("Sphere0",16,.5,scene),lightSphere1=BABYLON.Mesh.CreateSphere("Sphere1",16,.5,scene),lightSphere2=BABYLON.Mesh.CreateSphere("Sphere2",16,.5,scene),redMaterial=($t=new BABYLON.StandardMaterial("red",scene),$t.diffuseColor=new BABYLON.Color3(0,0,0),$t.specularColor=new BABYLON.Color3(0,0,0),$t.emissiveColor=new BABYLON.Color3(1,0,0),$t),greenMaterial=($t=new BABYLON.StandardMaterial("green",scene),$t.diffuseColor=new BABYLON.Color3(0,0,0),$t.specularColor=new BABYLON.Color3(0,0,0),$t.emissiveColor=new BABYLON.Color3(0,1,0),$t),blueMaterial=($t=new BABYLON.StandardMaterial("blue",scene),$t.diffuseColor=new BABYLON.Color3(0,0,0),$t.specularColor=new BABYLON.Color3(0,0,0),$t.emissiveColor=new BABYLON.Color3(0,0,1),$t);return lightSphere0.material=redMaterial,lightSphere1.material=greenMaterial,lightSphere2.material=blueMaterial,material.diffuseColor=new BABYLON.Color3(1,1,1),sphere.material=material,light0.diffuse=new BABYLON.Color3(1,0,0),light0.specular=new BABYLON.Color3(1,0,0),light1.diffuse=new BABYLON.Color3(0,1,0),light1.specular=new BABYLON.Color3(0,1,0),light2.diffuse=new BABYLON.Color3(0,0,1),light2.specular=new BABYLON.Color3(0,0,1),light3.diffuse=new BABYLON.Color3(1,1,1),light3.specular=new BABYLON.Color3(1,1,1),alpha=0,scene.beforeRender=function(){light0.position=new BABYLON.Vector3(10*Math.sin(alpha),0,10*Math.cos(alpha));light1.position=new BABYLON.Vector3(10*Math.sin(alpha),0,-10*Math.cos(alpha));light2.position=new BABYLON.Vector3(10*Math.cos(alpha),0,10*Math.sin(alpha));lightSphere0.position=light0.position;lightSphere1.position=light1.position;lightSphere2.position=light2.position;alpha+=.01},scene}}});Bridge.define("BabylonJsDemo.SceneProviders.Scene3Provider",{inherits:[BabylonJsDemo.SceneProviders.AbstractSceneProvider],methods:{CreateScene:function(canvas,engine){var scene=new BABYLON.Scene(engine),light=new BABYLON.PointLight("Point",new BABYLON.Vector3(5,10,5),scene),camera=new BABYLON.ArcRotateCamera("Camera",1,.8,8,new BABYLON.Vector3(0,0,0),scene),spriteManagerTrees,i,tree,spriteManagerPlayer,player,player2;for(camera.attachControl(canvas,!0),spriteManagerTrees=new BABYLON.SpriteManager("treesManager","https://demos.retyped.com/babylon.js/img/palm.png",2e3,Bridge.box(800,System.Int32),scene),i=0;i<2e3;i=i+1|0)tree=new BABYLON.Sprite("tree",spriteManagerTrees),tree.position.x=Math.random()*100-50,tree.position.z=Math.random()*100-50,tree.isPickable=!0,Math.round(Math.random()*5)===0&&(tree.angle=Math.PI/2,tree.position.y=-.3);return spriteManagerPlayer=new BABYLON.SpriteManager("playerManager","https://demos.retyped.com/babylon.js/img/player.png",2,Bridge.box(64,System.Int32),scene),player=new BABYLON.Sprite("player",spriteManagerPlayer),player.playAnimation(0,40,!0,100,null),player.position.y=-.3,player.size=.3,player.isPickable=!0,player2=new BABYLON.Sprite("player2",spriteManagerPlayer),player2.stopAnimation(),player2.cellIndex=2,player2.position.y=-.3,player2.position.x=1,player2.size=.3,player2.invertU=-1,player2.isPickable=!0,spriteManagerTrees.isPickable=!0,spriteManagerPlayer.isPickable=!0,scene.onPointerDown=function(){var $t,pickResult=scene.pickSprite(scene.pointerX,scene.pointerY);pickResult.hit&&($t=pickResult.pickedSprite,$t.angle+=.5)},scene}}})});
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAiZmlsZSI6ICJCYWJ5bG9uSnNEZW1vLm1pbi5qcyIsCiAgInNvdXJjZVJvb3QiOiAiIiwKICAic291cmNlcyI6IFtdLAogICJuYW1lcyI6IFtdLAogICJtYXBwaW5ncyI6ICIiLAogICJzb3VyY2VzQ29udGVudCI6IFtdCn0K
