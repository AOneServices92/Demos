Bridge.assembly("ChartJsDemo",function(){"use strict";Bridge.define("ChartJsDemo.App",{main:function(){var random=new System.Random.ctor;ChartJsDemo.App._chart1=ChartJsDemo.App.CreateBarChart("myChart1",random.next());ChartJsDemo.App._chart2=ChartJsDemo.App.CreatePieChart("myChart2",random.next());ChartJsDemo.App._chart3=ChartJsDemo.App.CreatePolarChart("myChart3",random.next());ChartJsDemo.App._chart4=ChartJsDemo.App.CreateLineChart("myChart4",random.next());ChartJsDemo.App.InitEventHandlers()},statics:{fields:{_chart1:null,_chart2:null,_chart3:null,_chart4:null},methods:{CreateBarChart:function(rootEl,seed){var chartConfig,rootElD;return seed===void 0&&(seed=0),chartConfig={type:"bar",data:{labels:ChartJsDemo.App.GetLabels(),datasets:System.Array.init([{label:"Dataset 1",data:ChartJsDemo.App.GetRandomData(100,seed),borderWidth:1,backgroundColor:ChartJsDemo.App.GetBackgroundColor(),borderColor:ChartJsDemo.App.GetBorderColor()}],System.Object)},options:{responsive:!0}},rootElD=Bridge.cast(document.getElementById(rootEl),HTMLCanvasElement),rootElD=rootElD.getContext("2d"),new Chart(rootElD,chartConfig)},CreatePieChart:function(rootEl,seed){seed===void 0&&(seed=0);var chartConfig={type:"pie",data:{labels:ChartJsDemo.App.GetLabels(),datasets:System.Array.init([{label:"Dataset 1",data:ChartJsDemo.App.GetRandomData(100,seed),borderWidth:1,backgroundColor:ChartJsDemo.App.GetBackgroundColor(),borderColor:ChartJsDemo.App.GetBorderColor()}],System.Object)},options:{responsive:!0,maintainAspectRatio:!1}};return new Chart(rootEl,chartConfig)},CreatePolarChart:function(rootEl,seed){seed===void 0&&(seed=0);var chartConfig={type:"polarArea",data:{labels:ChartJsDemo.App.GetLabels(),datasets:System.Array.init([{label:"Dataset 1",data:ChartJsDemo.App.GetRandomData(100,seed),borderWidth:1,backgroundColor:ChartJsDemo.App.GetBackgroundColor(),borderColor:ChartJsDemo.App.GetBorderColor()}],System.Object)},options:{responsive:!0,maintainAspectRatio:!1}};return new Chart(rootEl,chartConfig)},CreateLineChart:function(rootEl,seed){seed===void 0&&(seed=0);var chartConfig={type:"line",data:{labels:ChartJsDemo.App.GetLabels(),datasets:System.Array.init([{label:"Dataset 1",data:ChartJsDemo.App.GetRandomData(100,seed),borderWidth:1,backgroundColor:ChartJsDemo.App.GetBackgroundColor(),borderColor:ChartJsDemo.App.GetBorderColor()}],System.Object)},options:{responsive:!0}};return new Chart(rootEl,chartConfig)},InitEventHandlers:function(){for(var charts=System.Array.init([ChartJsDemo.App._chart1,ChartJsDemo.App._chart2,ChartJsDemo.App._chart3,ChartJsDemo.App._chart4],Chart),i=0;i<charts.length;i=i+1|0){var chart={v:charts[System.Array.index(i,charts)]},chartData={v:chart.v.config.data},suffix=i+1|0,randomizeBtn=Bridge.cast(document.getElementById("randomizeData"+suffix),HTMLButtonElement),addDataSet=Bridge.cast(document.getElementById("addDataset"+suffix),HTMLButtonElement),removeDataset=Bridge.cast(document.getElementById("removeDataset"+suffix),HTMLButtonElement),random={v:new System.Random.ctor};randomizeBtn.addEventListener("click",function($me,chartData,random,chart){return function(){var $t,dataset;$t=Bridge.getEnumerator(chartData.v.datasets);try{while($t.moveNext())dataset=$t.Current,dataset.data=ChartJsDemo.App.GetRandomData(100,random.v.next())}finally{Bridge.is($t,System.IDisposable)&&$t.System$IDisposable$dispose()}chart.v.update(null,null)}}(this,chartData,random,chart));addDataSet.addEventListener("click",function($me,chartData,random,chart){return function(){var newDataset={label:"Dataset "+(chartData.v.datasets.length+1|0),data:ChartJsDemo.App.GetRandomData(100,random.v.next()),borderWidth:1,backgroundColor:ChartJsDemo.App.GetBackgroundColor(),borderColor:ChartJsDemo.App.GetBorderColor()};chartData.v.datasets.push(newDataset);chart.v.update(null,null)}}(this,chartData,random,chart));removeDataset.addEventListener("click",function($me,chartData,chart){return function(){chartData.v.datasets.splice(0,1);chart.v.update(null,null)}}(this,chartData,chart))}},GetLabels:function(){return System.Array.init(["Red","Blue","Yellow","Green","Purple","Orange"],System.String)},GetRandomData:function(max,seed){seed===void 0&&(seed=0);var rnd=new System.Random.$ctor1(seed);return System.Array.init([rnd.next$1(max),rnd.next$1(max),rnd.next$1(max),rnd.next$1(max),rnd.next$1(max),rnd.next$1(max)],System.Double)},GetBackgroundColor:function(){return System.Array.init(["rgba(255, 99, 132, 0.2)","rgba(54, 162, 235, 0.2)","rgba(255, 206, 86, 0.2)","rgba(75, 192, 192, 0.2)","rgba(153, 102, 255, 0.2)","rgba(255, 159, 64, 0.2)"],Bridge.virtualc("Chart.ChartColor"))},GetBorderColor:function(){return System.Array.init(["rgba(255, 99, 132, 1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(75, 192, 192, 1)","rgba(153, 102, 255, 1)","rgba(255, 159, 64, 1)"],Bridge.virtualc("Chart.ChartColor"))}}}})});
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAiZmlsZSI6ICJDaGFydEpzRGVtby5taW4uanMiLAogICJzb3VyY2VSb290IjogIiIsCiAgInNvdXJjZXMiOiBbXSwKICAibmFtZXMiOiBbXSwKICAibWFwcGluZ3MiOiAiIiwKICAic291cmNlc0NvbnRlbnQiOiBbXQp9Cg==
